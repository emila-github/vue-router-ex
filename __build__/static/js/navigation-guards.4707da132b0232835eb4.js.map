{"version":3,"sources":["webpack:///static/js/navigation-guards.4707da132b0232835eb4.js","webpack:///../src/navigation-guards/app.js"],"names":["webpackJsonp","module","exports","__webpack_require__","__dirname","_interopRequireDefault","obj","__esModule","default","guardRoute","to","from","next","window","confirm","path","_vue","_vue2","_vueRouter","_vueRouter2","use","Home","template","Foo","Bar","Baz","data","saved","beforeRouteLeave","this","Qux","msg","beforeRouteEnter","setTimeout","vm","router","mode","base","routes","component","beforeEnter","meta","needGuard","resolve","beforeEach","matched","some","m","$mount","call"],"mappings":"AAAAA,cAAc,GAAG,IAEX,SAASC,EAAQC,EAASC,IAEH,SAASC,GAAY,YAUjD,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCIxF,QAASG,GAAYC,EAAIC,EAAMC,GACzBC,OAAOC,QAAP,eAA8BJ,EAAGK,KAAjC,KACFH,IAEAA,EADSC,OAAOC,QAAP,qBACJ,QAEA,GAxBT,GAAAE,GAAAb,EAAA,GDQKc,EAAQZ,EAAuBW,GCPpCE,EAAAf,EAAA,GDWKgB,EAAcd,EAAuBa,ECT1CD,GAAAT,QAAIY,IAAJD,EAAAX,QAEA,IAAMa,IAASC,SAAU,mBACnBC,GAAQD,SAAU,kBAClBE,GAAQF,SAAU,kBAsBlBG,GACJC,KADU,WAER,OAASC,OAAO,IAElBL,mJAMAM,iBAVU,SAUQlB,EAAIC,EAAMC,GACtBiB,KAAKF,OAASd,OAAOC,QAAQ,sDAC/BF,IAEAA,GAAK,KAMLkB,GACJJ,KADU,WAER,OACEK,IAAK,OAGTT,gCACAU,iBAPU,SAOQtB,EAAIC,EAAMC,GAS1BqB,WAAW,WACTrB,EAAK,SAAAsB,GACHA,EAAGH,IAAM,SAEV,OAIDI,EAAS,GAAAhB,GAAAX,SACb4B,KAAM,UACNC,KAAMjC,EACNkC,SACIvB,KAAM,IAAKwB,UAAWlB,IAGtBN,KAAM,OAAQwB,UAAWhB,EAAKiB,YAAa/B,IAI3CM,KAAM,OAAQwB,UAAWf,EAAKiB,MAAQC,WAAW,KAGjD3B,KAAM,OAAQwB,UAAWd,IAGzBV,KAAM,OAAQwB,UAAWT,IAGzBf,KAAM,aAAcwB,UAAW,SAAAI,GAC/BV,WAAW,WACTU,EAAQb,IACP,OAKTK,GAAOS,WAAW,SAAClC,EAAIC,EAAMC,GACvBF,EAAGmC,QAAQC,KAAK,SAAAC,GAAA,MAAKA,GAAEN,KAAKC,YAC9BjC,EAAWC,EAAIC,EAAMC,GAErBA,MAIJ,GAAAK,GAAAT,SACE2B,SACAb,2gBAcC0B,OAAO,UDrCoBC,KAAK/C,EAAS","file":"static/js/navigation-guards.4707da132b0232835eb4.js","sourcesContent":["webpackJsonp([13,2],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__dirname) {'use strict';\n\t\n\tvar _vue = __webpack_require__(1);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(2);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t\n\tvar Home = { template: '<div>home</div>' };\n\tvar Foo = { template: '<div>foo</div>' };\n\tvar Bar = { template: '<div>bar</div>' };\n\t\n\tfunction guardRoute(to, from, next) {\n\t  if (window.confirm('Navigate to ' + to.path + '?')) {\n\t    next();\n\t  } else if (window.confirm('Redirect to /baz?')) {\n\t    next('/baz');\n\t  } else {\n\t    next(false);\n\t  }\n\t}\n\t\n\tvar Baz = {\n\t  data: function data() {\n\t    return { saved: false };\n\t  },\n\t\n\t  template: '\\n    <div>\\n      <p>baz ({{ saved ? \\'saved\\' : \\'not saved\\' }})<p>\\n      <button @click=\"saved = true\">save</button>\\n    </div>\\n  ',\n\t  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n\t    if (this.saved || window.confirm('Not saved, are you sure you want to navigate away?')) {\n\t      next();\n\t    } else {\n\t      next(false);\n\t    }\n\t  }\n\t};\n\t\n\tvar Qux = {\n\t  data: function data() {\n\t    return {\n\t      msg: null\n\t    };\n\t  },\n\t\n\t  template: '<div>{{ msg }}</div>',\n\t  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n\t    setTimeout(function () {\n\t      next(function (vm) {\n\t        vm.msg = 'Qux';\n\t      });\n\t    }, 300);\n\t  }\n\t};\n\t\n\tvar router = new _vueRouter2.default({\n\t  mode: 'history',\n\t  base: __dirname,\n\t  routes: [{ path: '/', component: Home }, { path: '/foo', component: Foo, beforeEnter: guardRoute }, { path: '/bar', component: Bar, meta: { needGuard: true } }, { path: '/baz', component: Baz }, { path: '/qux', component: Qux }, { path: '/qux-async', component: function component(resolve) {\n\t      setTimeout(function () {\n\t        resolve(Qux);\n\t      }, 0);\n\t    } }]\n\t});\n\t\n\trouter.beforeEach(function (to, from, next) {\n\t  if (to.matched.some(function (m) {\n\t    return m.meta.needGuard;\n\t  })) {\n\t    guardRoute(to, from, next);\n\t  } else {\n\t    next();\n\t  }\n\t});\n\t\n\tnew _vue2.default({\n\t  router: router,\n\t  template: '\\n    <div id=\"app\">\\n      <h1>Navigation Guards</h1>\\n      <ul>\\n        <li><router-link to=\"/\">/</router-link></li>\\n        <li><router-link to=\"/foo\">/foo</router-link></li>\\n        <li><router-link to=\"/bar\">/bar</router-link></li>\\n        <li><router-link to=\"/baz\">/baz</router-link></li>\\n        <li><router-link to=\"/qux\">/qux</router-link></li>\\n        <li><router-link to=\"/qux-async\">/qux-async</router-link></li>\\n      </ul>\\n      <router-view class=\"view\"></router-view>\\n    </div>\\n  '\n\t}).$mount('#app');\n\t/* WEBPACK VAR INJECTION */}.call(exports, \"..\\\\src\\\\navigation-guards\"))\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/navigation-guards.4707da132b0232835eb4.js","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst Home = { template: '<div>home</div>' }\r\nconst Foo = { template: '<div>foo</div>' }\r\nconst Bar = { template: '<div>bar</div>' }\r\n\r\n/**\r\n * Signatre of all route guards:\r\n * @param {Route} to\r\n * @param {Route} from\r\n * @param {Function} next\r\n *\r\n * See http://router.vuejs.org/en/advanced/navigation-guards.html\r\n * for more details.\r\n */\r\nfunction guardRoute (to, from, next) {\r\n  if (window.confirm(`Navigate to ${to.path}?`)) {\r\n    next()\r\n  } else if (window.confirm(`Redirect to /baz?`)) {\r\n    next('/baz')\r\n  } else {\r\n    next(false)\r\n  }\r\n}\r\n\r\n// Baz implements an in-component beforeRouteLeave hook\r\nconst Baz = {\r\n  data () {\r\n    return { saved: false }\r\n  },\r\n  template: `\r\n    <div>\r\n      <p>baz ({{ saved ? 'saved' : 'not saved' }})<p>\r\n      <button @click=\"saved = true\">save</button>\r\n    </div>\r\n  `,\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.saved || window.confirm('Not saved, are you sure you want to navigate away?')) {\r\n      next()\r\n    } else {\r\n      next(false)\r\n    }\r\n  }\r\n}\r\n\r\n// Baz implements an in-component beforeRouteEnter hook\r\nconst Qux = {\r\n  data () {\r\n    return {\r\n      msg: null\r\n    }\r\n  },\r\n  template: `<div>{{ msg }}</div>`,\r\n  beforeRouteEnter (to, from, next) {\r\n    // Note that enter hooks do not have access to `this`\r\n    // because it is called before the component is even created.\r\n    // However, we can provide a callback to `next` which will\r\n    // receive the vm instance when the route has been confirmed.\r\n    //\r\n    // simulate an async data fetch.\r\n    // this pattern is useful when you want to stay at current route\r\n    // and only switch after the data has been fetched.\r\n    setTimeout(() => {\r\n      next(vm => {\r\n        vm.msg = 'Qux'\r\n      })\r\n    }, 300)\r\n  }\r\n}\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: __dirname,\r\n  routes: [\r\n    { path: '/', component: Home },\r\n\r\n    // inline guard\r\n    { path: '/foo', component: Foo, beforeEnter: guardRoute },\r\n\r\n    // using meta properties on the route config\r\n    // and check them in a global before hook\r\n    { path: '/bar', component: Bar, meta: { needGuard: true }},\r\n\r\n    // Baz implements an in-component beforeRouteLeave hook\r\n    { path: '/baz', component: Baz },\r\n\r\n    // Qux implements an in-component beforeRouteEnter hook\r\n    { path: '/qux', component: Qux },\r\n\r\n   // in-component beforeRouteEnter hook for async components\r\n    { path: '/qux-async', component: resolve => {\r\n      setTimeout(() => {\r\n        resolve(Qux)\r\n      }, 0)\r\n    } }\r\n  ]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(m => m.meta.needGuard)) {\r\n    guardRoute(to, from, next)\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  template: `\r\n    <div id=\"app\">\r\n      <h1>Navigation Guards</h1>\r\n      <ul>\r\n        <li><router-link to=\"/\">/</router-link></li>\r\n        <li><router-link to=\"/foo\">/foo</router-link></li>\r\n        <li><router-link to=\"/bar\">/bar</router-link></li>\r\n        <li><router-link to=\"/baz\">/baz</router-link></li>\r\n        <li><router-link to=\"/qux\">/qux</router-link></li>\r\n        <li><router-link to=\"/qux-async\">/qux-async</router-link></li>\r\n      </ul>\r\n      <router-view class=\"view\"></router-view>\r\n    </div>\r\n  `\r\n}).$mount('#app')\r\n\n\n\n// WEBPACK FOOTER //\n// ../src/navigation-guards/app.js"],"sourceRoot":""}