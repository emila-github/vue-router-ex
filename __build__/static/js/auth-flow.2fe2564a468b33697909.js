webpackJsonp([3,2],[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){s.default.loggedIn()?n():n({path:"/login",query:{redirect:e.fullPath}})}var r=n(1),a=t(r),u=n(2),i=t(u),l=n(3),s=t(l),d=n(17),c=t(d),f=n(16),p=t(f),v=n(18),g=t(v),_=n(19),h=t(_);a.default.use(i.default);var m=new i.default({mode:"history",base:e,routes:[{path:"/about",component:p.default},{path:"/dashboard",component:g.default,beforeEnter:o},{path:"/login",component:h.default},{path:"/logout",beforeEnter:function(e,t,n){s.default.logout(),n("/")}}]});new a.default({el:"#app",router:m,render:function(e){return e(c.default)}})}).call(t,"..\\src\\auth-flow")},,,function(e,t){"use strict";function n(e,t,n){setTimeout(function(){n("joe@example.com"===e&&"password1"===t?{authenticated:!0,token:Math.random().toString(36).substring(7)}:{authenticated:!1})},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={login:function(e,t,o){var r=this;return o=arguments[arguments.length-1],localStorage.token?(o&&o(!0),void this.onChange(!0)):void n(e,t,function(e){e.authenticated?(localStorage.token=e.token,o&&o(!0),r.onChange(!0)):(o&&o(!1),r.onChange(!1))})},getToken:function(){return localStorage.token},logout:function(e){delete localStorage.token,e&&e(),this.onChange(!1)},loggedIn:function(){return!!localStorage.token},onChange:function(){}}},,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=o(r);t.default={data:function(){return{loggedIn:a.default.loggedIn()}},created:function(){var e=this;a.default.onChange=function(t){e.loggedIn=t}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=o(r);t.default={data:function(){return{email:"joe@example.com",pass:"",error:!1}},methods:{login:function(){var e=this;a.default.login(this.email,this.pass,function(t){t?e.$router.replace(e.$route.query.redirect||"/"):e.error=!0})}}}},,,,,,function(e,t){},,,,function(e,t,n){var o,r,a=n(35);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},function(e,t,n){var o,r;o=n(5);var a=n(33);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},function(e,t,n){var o,r,a=n(26);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},function(e,t,n){var o,r;n(12),o=n(6);var a=n(31);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},,,,,,,function(e,t){e.exports={render:function(){var e=this;e.$createElement,e._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=(e.$createElement,e._c);return t("div",[t("h2",[e._v("Dashboard")]),e._v(" "),t("p",[e._v("Yay you made it!")])])}]}},,,,,function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",[t("h2",[e._v("Login")]),e._v(" "),e.$route.query.redirect?t("p",[e._v("\n    You need to login first.\n  ")]):e._e(),e._v(" "),t("form",{on:{submit:function(t){t.preventDefault(),e.login(t)}}},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{placeholder:"email"},domProps:{value:e._s(e.email)},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{placeholder:"password",type:"password"},domProps:{value:e._s(e.pass)},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}})]),e._v(" (hint: password1)"),t("br"),e._v(" "),t("button",{attrs:{type:"submit"}},[e._v("login")]),e._v(" "),e.error?t("p",{staticClass:"error"},[e._v("Bad login information")]):e._e()])])},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{attrs:{id:"app"}},[t("h1",[e._v("Auth Flow")]),e._v(" "),t("ul",[t("li",[e.loggedIn?t("router-link",{attrs:{to:"/logout"}},[e._v("Log out")]):e._e(),e._v(" "),e.loggedIn?e._e():t("router-link",{attrs:{to:"/login"}},[e._v("Log in")])]),e._v(" "),t("li",[t("router-link",{attrs:{to:"/about"}},[e._v("About")])]),e._v(" "),t("li",[t("router-link",{attrs:{to:"/dashboard"}},[e._v("Dashboard")]),e._v("\n      (authenticated)\n    ")])]),e._v(" "),e.$route.matched.length?[t("router-view")]:[t("p",[e._v("You are logged "+e._s(e.loggedIn?"in":"out"))])],e._v(" ")],!0)},staticRenderFns:[]}},,function(e,t){e.exports={render:function(){var e=this;e.$createElement,e._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=(e.$createElement,e._c);return t("div",[t("h2",[e._v("About")])])}]}}]);
//# sourceMappingURL=auth-flow.2fe2564a468b33697909.js.map